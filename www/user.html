<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no
		initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

    <title>Rock This Way</title>

    <link href="ui/css/style.css" rel="stylesheet">




</head>

<body id="nameCreation">

    <div id="creationPage">
        
        <div class="pagetitle">Create Your Own Gamertag</div>
        <input id="userName" type="text" placeholder="Your name here">
        <div class="divider"></div>
        <div class="details">This name will follow you throughout your exhibits. At the end look for your name on the leaderboards!</div>
        
        <button onclick="submitUserName()" class="submitButton" id="sumbitLyricsButton">Submit</button>

    </div>



    <div id="userPage">
        <div id="teamName"></div>
        <div class="divider redDivider"></div>
        <div>Trivia: The Beatles</div>
        <div class="points" id="triviaPoints">Didnt Play Yet</div>
        <div>Lyracle: Aerosmith</div>
        <div class="points" id="lyricPoints">Didnt Play Yet</div>
        <div>Against the Crowd: Taylor Swift</div>
        <div class="points" id="atcPoints">Didnt Play Yet</div>
        <div class="points">Total</div>
        <div id="teamScore" class="points"></div>
        <button onclick="returnToPlan()" class="submitButton" id="sumbitLyricsButton">Return</button>
    </div>

    <script src="cordova.js"></script>

    <script src="js/bundle.js"></script>

    <script src="js/app.js"></script>

    <script>
        document.getElementById('creationPage').style.display = "none";
        document.getElementById('userPage').style.display = "none";
        window.onload = loadPage;

        function loadPage() {
           
            if (localStorage.getItem("user") != undefined) {
                displayUser();
            } else {
                document.getElementById('creationPage').style.display = "initial";
            }
        }



        function displayUser() {

            var user = localStorage.user
            
            var points = 0;
            
            
            
            var atcScore = parseInt(localStorage.atcScore);
            if (Number.isInteger(atcScore)){
                document.getElementById('atcPoints').innerHTML = atcScore;
                points += atcScore;
            }
            var triviaScore = parseInt(localStorage.triviaScore);
            if (Number.isInteger(triviaScore)){
                document.getElementById('triviaPoints').innerHTML = triviaScore;
                points += triviaScore;
            }
            var lyricScore = parseInt(localStorage.lyricScore);
            if (Number.isInteger(lyricScore)){
                document.getElementById('lyricPoints').innerHTML = lyricScore;
                points += lyricScore;
            }
            
            localStorage.points = points;

            
            
            document.getElementById('creationPage').style.display = "none";
            document.getElementById('userPage').style.display = "initial";

            document.getElementById('teamName').innerHTML = user;
            document.getElementById('teamScore').innerHTML = points;
        }

        function submitUserName() {

            localStorage.user = document.getElementById('userName').value;
            displayUser();

        }

        function returnToPlan() {
            window.location.href = "yourday.html";
        }
    </script>


</body>

</html>