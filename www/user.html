<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no
		initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />

    <title>Rock This Way</title>

    <link href="ui/css/style.css" rel="stylesheet">




</head>

<body id="nameCreation">

    <div id="creationPage">
        <div class="pagetitle">Create Your Own Gamertag</div>
        <div class="divider"></div>
        <div class="details">This name will follow you throughout your exhibits. At the end look for your name on the leaderboards!</div>
        <input id="userName" type="text" placeholder="Your name here">
        <button onclick="submitUserName()" class="submitButton" id="sumbitLyricsButton">Submit</button>

    </div>

    <div id="userPage">
        <div id="teamName"></div>
        <div id="teamScore"></div>
        <button onclick="history.back()" class="submitButton" id="sumbitLyricsButton">Return</button>
    </div>

    <script src="cordova.js"></script>

    <script src="js/bundle.js"></script>

    <script src="js/app.js"></script>

    <script>
        window.onload = loadPage;

        function loadPage() {

            localStorage.removeItem("user");

            document.getElementById('creationPage').style.display = "none";
            document.getElementById('userPage').style.display = "none";
            if (localStorage.getItem("user") != undefined) {
                document.getElementById('userPage').style.display = "initial";
                var user = localStorage.getItem("user");

                if (localStorage.getItem("score") != undefined) {
                    var points = parseInt(localStorage.score);
                } else {
                    var points = 0;
                }

                document.getElementById('teamName').innerHTML = "Team Name: " + user;
                document.getElementById('teamScore').innerHTML = "Team Score: " + points;
            } else {
                document.getElementById('creationPage').style.display = "initial";
            }
        }

    
        function submitUserName() {
            console.log("called");

            //localStorage.user = document.getElementById('userName').value;
            var user = document.getElementById('userName').value;

            if (localStorage.getItem("score") != undefined) {
                var points = parseInt(localStorage.score);
            } else {
                var points = 0;
            }

            document.getElementById('creationPage').style.display = "none";
            document.getElementById('userPage').style.display = "initial";

            document.getElementById('teamName').innerHTML = "Team Name: " + user;
            document.getElementById('teamScore').innerHTML = "Team Score: " + points;
            console.log("called 2");
        }
    </script>


</body>

</html>